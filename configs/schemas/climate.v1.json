{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://omniapi.com/schemas/climate/v1.0.0",
  "title": "Climate Data Schema",
  "description": "Schema for environmental climate sensor data",
  "type": "object",
  "metadata": {
    "version": "1.0.0",
    "capability": "climate.read",
    "backward_compatible": true,
    "compatibility_notes": "Initial version - no breaking changes",
    "created_at": "2025-11-07T00:00:00Z",
    "updated_at": "2025-11-07T00:00:00Z"
  },
  "properties": {
    "timestamp": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 timestamp of the measurement"
    },
    "device_id": {
      "type": "string",
      "description": "Unique identifier of the climate sensor",
      "minLength": 1,
      "maxLength": 100
    },
    "temperature": {
      "type": "number",
      "minimum": -50,
      "maximum": 100,
      "description": "Temperature in Celsius"
    },
    "humidity": {
      "type": "number",
      "minimum": 0,
      "maximum": 100,
      "description": "Relative humidity as percentage"
    },
    "water_temperature": {
      "type": "number",
      "minimum": -5,
      "maximum": 50,
      "description": "Water temperature in Celsius"
    },
    "dissolved_oxygen": {
      "type": "number",
      "minimum": 0,
      "maximum": 20,
      "description": "Dissolved oxygen in mg/L"
    },
    "ph_level": {
      "type": "number",
      "minimum": 0,
      "maximum": 14,
      "description": "pH level of water"
    },
    "salinity": {
      "type": "number",
      "minimum": 0,
      "maximum": 50,
      "description": "Salinity in parts per thousand (ppt)"
    },
    "ammonia": {
      "type": "number",
      "minimum": 0,
      "description": "Ammonia concentration in mg/L"
    },
    "nitrite": {
      "type": "number",
      "minimum": 0,
      "description": "Nitrite concentration in mg/L"
    },
    "nitrate": {
      "type": "number",
      "minimum": 0,
      "description": "Nitrate concentration in mg/L"
    },
    "turbidity": {
      "type": "number",
      "minimum": 0,
      "description": "Water turbidity in NTU (Nephelometric Turbidity Units)"
    },
    "light_intensity": {
      "type": "number",
      "minimum": 0,
      "description": "Light intensity in lux"
    },
    "uv_index": {
      "type": "number",
      "minimum": 0,
      "maximum": 15,
      "description": "UV index measurement"
    },
    "pressure": {
      "type": "number",
      "minimum": 800,
      "maximum": 1200,
      "description": "Atmospheric pressure in hPa"
    },
    "wind_speed": {
      "type": "number",
      "minimum": 0,
      "description": "Wind speed in m/s"
    },
    "wind_direction": {
      "type": "number",
      "minimum": 0,
      "maximum": 360,
      "description": "Wind direction in degrees (0-360)"
    },
    "water_level": {
      "type": "number",
      "description": "Water level in meters (can be negative)"
    },
    "flow_rate": {
      "type": "number",
      "minimum": 0,
      "description": "Water flow rate in L/min"
    },
    "location": {
      "type": "object",
      "properties": {
        "latitude": {
          "type": "number",
          "minimum": -90,
          "maximum": 90
        },
        "longitude": {
          "type": "number",
          "minimum": -180,
          "maximum": 180
        },
        "altitude": {
          "type": "number",
          "description": "Altitude in meters above sea level"
        }
      },
      "required": ["latitude", "longitude"]
    },
    "cage_id": {
      "type": "string",
      "description": "Identifier of the cage or area being monitored",
      "minLength": 1,
      "maxLength": 50
    },
    "zone": {
      "type": "string",
      "enum": ["surface", "mid_water", "bottom", "air", "greenhouse"],
      "description": "Monitoring zone or depth level"
    },
    "alerts": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": ["temp_high", "temp_low", "oxygen_low", "ph_abnormal", "salinity_high", "ammonia_high", "equipment_failure"]
      },
      "description": "Active environmental alerts"
    }
  },
  "required": ["timestamp", "device_id", "temperature"],
  "additionalProperties": false
}